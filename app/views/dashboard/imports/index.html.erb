<div class="card">
  <div class="table-responsive">
    <table id="resources" class="table table-vcenter card-table">
      <thead>
        <tr role="row">
          <th>#</th>
          <% [:import, :import_type, :status, :error_message, :created_at].each do |column| %>
            <th>
              <div class="text">
                <%= @imports.human_attribute_name(column) %>
              </div>
            </th>
          <% end %>
        </tr>
      </thead>

      <tbody>
        <% @imports.each do |import| %>
          <%= content_tag_for :tr, import, role: "row" do %>
            <td>
              <%= link_to import.file.filename, rails_blob_path(import.file, disposition: "attachment") %>
            </td>
            <td>
              <%= import.resource_type.humanize %>
            </td>
            <td>
              <%= import.status.humanize %>
            </td>
            <td>
              <%= import.error_message %>
            </td>
            <td>
              <%= local_time(import.created_at) %>
            </td>
          <% end %>
        <% end %>
      </tbody>
    </table>
  </div>

  <%= render("shared/pagination", resources: @imports) %>
</div>
