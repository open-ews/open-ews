<div class="card">
  <div class="card-body">
    <%= simple_form_for(@resource, url: dashboard_two_factor_authentications_path, wrapper: :input_group) do |f| %>
      <div class="row">
        <div class="col">
          <p>
            Scan the QR code below using your authenticator app (e.g., Google Authenticator, Authy, 1Password).
          </p>
          <p>
            <%= mfa_qr_code(current_user) %>
          </p>
        </div>
      </div>

      <div class="row">
        <h2>
          Verify your setup
        </h2>
        <p>
          Enter the 6-digit code generated by your authenticator app to complete the setup.
        </p>
      </div>

      <div class="row">
        <div class="col-sm-3">
          <%= f.input(
            :otp_attempt,
            label: "OTP Code",
            as: :tel,
            minlength: 6, maxlength: 6,
            hint: "6 digit OTP code"
          )%>
        </div>
      </div>

      <%= f.button :submit, "Verify & Enable 2FA" %>
    <% end %>
  </div>
</div>
